## Step 6. Using the Service Ticket to Make APIC-EM REST API Calls

### APIC-EM Example: Get Hosts

Let's take a look at the Get Hosts endpoint. A host is an end device attached to the network, such as a workstation connected to a wireless device. Our goal here is to find the hosts and display information about them.

To construct a request that retrieves a list of hosts, we refer to the API docs which tell us:

* Method
* URL
* Headers
* Authentication
* Body

As specified earlier, we can see that the base URLs for APIC-EM is:

```http

https://{APIC-EM-Server}/api/v1

```

You can look at the details of the Get Hosts API from the -- <a href="http://devnetapic.cisco.com/" target="_blank">APIC-EM API Docs</a>.

The call below retrieves all of hosts on the specified server
```http

GET https://{APIC-EM-Server}/api/v1/host

```

Alternatively, for display purposes, you may want to retrieve just some of the hosts to page through them. In that case, pass the 'limit' parameter to specify the maximum number of hosts to be return. You can also pass the 'offset' parameter to specify where to start the list of hosts. The call below specifies to start from the first host, (offset=1), and to return a maximum of five hosts, (limit=5).
```http

GET https://{APIC-EM-Server}/api/v1/host?limit=5&offset=1

```

To get the entire list of hosts, our request will be like this:

* **Method** - GET
* **URL** - https://{APIC-EM-Server}/api/v1/host
	* Insert the IP address or hostname of the APIC-EM controller you are using.
        * If you are not using your own APIC-EM Controller, use the Always-On APIC-EM Lab: https[]()://devnetapi.cisco.com/sandbox/apic_em .
* **Headers**
	* For authentication, add the service ticket that was created earlier. On the left side of the header, add the text 'X-Auth-Token'.  On the right side, add the service ticket value.
	* When using GET, a content header is not required. However, it's a good practice to specify the content in the header anyway as 'Content-Type' 'application/json'
* **Authentication**
	* Handled in the header specified above.
* **Body**
	 * Not required for this request

![](/posts/files/coding-101-rest-basics-ga/assets/images/apic-emHostRequest.png "Get Hosts")
<br/>
<br/>

### Next Step: Get Network Hosts
